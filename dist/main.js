(()=>{"use strict";var e={426:(e,t,i)=>{i.d(t,{Z:()=>l});var s=i(81),n=i.n(s),r=i(645),a=i.n(r)()(n());a.push([e.id,"#content {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-evenly;\n  height: 100%;\n  width: 100%;\n  padding-top: 40px;\n}\n\n.grid {\n  display: flex;\n  padding: 40px;\n}\n\n.myTile,\n.aiTile {\n  display: flex;\n  height: 40px;\n  width: 40px;\n  border: 1px solid black;\n  background-color: lightcyan;\n}\n\n.hover {\n  /* display: flex;\n  height: 40px;\n  width: 40px;\n  border: 1px solid black; */\n  background-color: red;\n}\n\n#preview {\n  /* height: 100%; */\n  display: flex;\n  flex-direction: column;\n  padding: 40px;\n}\n\n.previewTile {\n  display: flex;\n  height: 40px;\n  width: 40px;\n  border: 1px solid black;\n  background-color: red;\n}\n\n.previewDisplay {\n  display: flex;\n  height: 40px;\n  width: 40px;\n  border: 1px solid black;\n  background-color: lightgrey;\n}\n\n#myDisplay {\n  display: flex;\n  flex-direction: row;\n}\n\n.placed {\n  background-color: lightgrey;\n}\n\n.shot {\n  background-color: white;\n}\n\n.hit {\n  background-color: red;\n}\n\n#shipPreview {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  width: 220px;\n  padding: 20px;\n}\n\n#direction {\n  width: 80px;\n  margin-bottom: 100px;\n  margin-top: 40px;\n}\n\n#myGrid,\n#aiGrid {\n  background-color: darkgrey;\n  border-radius: 20px;\n}\n",""]);const l=a},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",s=void 0!==t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),s&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),s&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,s,n,r){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(s)for(var l=0;l<this.length;l++){var o=this[l][0];null!=o&&(a[o]=!0)}for(var h=0;h<e.length;h++){var d=[].concat(e[h]);s&&a[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),i&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=i):d[2]=i),n&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=n):d[4]="".concat(n)),t.push(d))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function i(e){for(var i=-1,s=0;s<t.length;s++)if(t[s].identifier===e){i=s;break}return i}function s(e,s){for(var r={},a=[],l=0;l<e.length;l++){var o=e[l],h=s.base?o[0]+s.base:o[0],d=r[h]||0,c="".concat(h," ").concat(d);r[h]=d+1;var p=i(c),u={css:o[1],media:o[2],sourceMap:o[3],supports:o[4],layer:o[5]};if(-1!==p)t[p].references++,t[p].updater(u);else{var m=n(u,s);s.byIndex=l,t.splice(l,0,{identifier:c,updater:m,references:1})}a.push(c)}return a}function n(e,t){var i=t.domAPI(t);return i.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;i.update(e=t)}else i.remove()}}e.exports=function(e,n){var r=s(e=e||[],n=n||{});return function(e){e=e||[];for(var a=0;a<r.length;a++){var l=i(r[a]);t[l].references--}for(var o=s(e,n),h=0;h<r.length;h++){var d=i(r[h]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}r=o}}},569:e=>{var t={};e.exports=function(e,i){var s=function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}(e);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(i)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,i)=>{e.exports=function(e){var t=i.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(i){!function(e,t,i){var s="";i.supports&&(s+="@supports (".concat(i.supports,") {")),i.media&&(s+="@media ".concat(i.media," {"));var n=void 0!==i.layer;n&&(s+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),s+=i.css,n&&(s+="}"),i.media&&(s+="}"),i.supports&&(s+="}");var r=i.sourceMap;r&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(s,e,t.options)}(t,e,i)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function i(s){var n=t[s];if(void 0!==n)return n.exports;var r=t[s]={id:s,exports:{}};return e[s](r,r.exports,i),r.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.nc=void 0,(()=>{class e{constructor(e){this.size=e,this.board=this.createBoard(e),this.shots=[],this.hits=[],this.ships=[]}createBoard(e=this.size){let t=[];for(let i=0;i<e;i++){t[i]=[];for(let s=0;s<e;s++)t[i][s]=s}return t}placeShip(e,t,i,s){let n=[];return"battleship"==e&&("vertical"==s?n.push([t,i],[t,i+1],[t,i+2],[t,i+3]):"horizontal"==s&&n.push([t,i],[t+1,i],[t+2,i],[t+3,i])),"carrier"==e&&("vertical"==s?n.push([t,i],[t,i+1],[t,i+2],[t,i+3],[t,i+4]):"horizontal"==s&&n.push([t,i],[t+1,i],[t+2,i],[t+3,i],[t+4,i])),"cruiser"==e&&("vertical"==s?n.push([t,i],[t,i+1]):"horizontal"==s&&n.push([t,i],[t+1,i])),"destroyer"==e&&("vertical"==s?n.push([t,i],[t,i+1],[t,i+2]):"horizontal"==s&&n.push([t,i],[t+1,i],[t+2,i])),"submarine"==e&&("vertical"==s?n.push([t,i],[t,i+1],[t,i+2]):"horizontal"==s&&n.push([t,i],[t+1,i],[t+2,i])),n}receiveAttack(e,t){let i=[e,t];this.shots.push(i);for(let s=0;s<this.ships.length;s++)for(let n=0;n<this.ships[s].location.length;n++)if(e==this.ships[s].location[n][0]&&t==this.ships[s].location[n][1])return this.hits.push(i),1==this.ships[s].hit(i)?(alert("Hit!"),[e,t,!0]):(alert("Hit!"),[e,t]);return alert("Miss!"),!1}}class t{constructor(e,t){this.name=e,this.size=t,this.location=[],this.hits=[],this.sunk=!1}hit(e){if(this.hits.push(e),this.isSunk(),1==this.sunk)return!0}isSunk(){this.hits.length==this.size&&(this.sunk=!0,alert(`You sunk my ${this.name}!`))}}class s{constructor(t,i){this.isHuman=t,this.turn=i,this.myBoard=new e(10),this.myShips=[],this.shots=[],this.myHits=[],this.shotSearch=[]}place(e,i,s,n,r){if("vertical"==r&&n+i>this.myBoard.size)return void alert("Please select a valid location!");if("horizontal"==r&&s+i>this.myBoard.size)return void alert("Please select a valid location!");for(let e=0;e<this.myShips.length;e++)for(let t=0;t<this.myShips[e].location.length;t++){let i=this.myShips[e].location[t][0],r=this.myShips[e].location[t][1];if(i==s&&r==n)return void alert("There is already a ship here!")}let a=new t(e,i);a.location=this.myBoard.placeShip(e,s,n,r),this.myBoard.ships.push(a),this.myShips.push(a)}shoot(e,t,i){let s=[e,t];for(let i=0;i<this.shots.length;i++)if(e==this.shots[i][0]&&t==this.shots[i][1])return void alert("You cannot target the same spot twice!");this.shots.push(s);const n=i.myBoard.receiveAttack(e,t);if(0!=n)return this.myHits.push(n),!0}aiPlace(e,i){let s=Math.floor(Math.random()*(this.myBoard.size-i)),n=Math.floor(Math.random()*this.myBoard.size),r=Math.floor(Math.random()*this.myBoard.size),a=Math.floor(Math.random()*(this.myBoard.size-i));for(let e=0;e<this.myShips.length;e++)for(let t=0;t<this.myShips[e].location.length;t++){let l=this.myShips[e].location[t][0],o=this.myShips[e].location[t][1];for(let e=0;e<i;e++)if(l==r+e&&o==a+e||l==s+e&&o==n+e)return}let l=new t(e,i),o=Math.round(Math.random());l.location=o>0?this.myBoard.placeShip(e,s,n,"horizontal"):this.myBoard.placeShip(e,r,a,"vertical"),this.myBoard.ships.push(l),this.myShips.push(l)}aiShoot(e){if(0!=this.shotSearch.length){let t=this.shotSearch[0][0],i=this.shotSearch[0][1];for(let s=0;s<this.shots.length;s++)if(t==this.shots[s][0]&&i==this.shots[s][1])return this.shotSearch.shift(),this.aiShoot(e);let s=e.myBoard.receiveAttack(t,i);return this.shots.push([t,i]),1==s?(this.myHits=[],this.shotSearch=[],[t,i,!0]):0!=s?(this.myHits.push(s),this.shotSearch=[],this.aiDestroy(),[t,i,!0]):(this.shotSearch.shift(),[t,i,!1])}{this.myHits=[];let t=Math.floor(Math.random()*e.myBoard.size),i=Math.floor(Math.random()*e.myBoard.size);for(let s=0;s<this.shots.length;s++)if(t==this.shots[s][0]&&i==this.shots[s][1])return this.aiShoot(e);let s=e.myBoard.receiveAttack(t,i);return this.shots.push([t,i]),0!=s?(this.myHits.push(s),this.shotSearch=[],this.aiDestroy(),[t,i,!0]):[t,i,!1]}}aiDestroy(){if(1==this.myHits.length){const e=this.myHits[0][0],t=this.myHits[0][1];t<9&&this.shotSearch.push([e,t+1]),t>0&&this.shotSearch.push([e,t-1]),e>0&&this.shotSearch.push([e-1,t]),e<9&&this.shotSearch.push([e+1,t])}else if(this.myHits.length>1){const e=this.myHits[0][0],t=this.myHits[0][1],i=this.myHits[this.myHits.length-1][0],s=this.myHits[this.myHits.length-1][1];e==i&&t<s?this.shotSearch.push([e,t-1],[i,s+1]):e==i&&t>s?this.shotSearch.push([e,t+1],[i,s-1]):t==s&&e<i?this.shotSearch.push([e-1,t],[i+1,s]):t==s&&e>i&&this.shotSearch.push([e+1,t],[i-1,s])}}}var n=i(379),r=i.n(n),a=i(795),l=i.n(a),o=i(569),h=i.n(o),d=i(565),c=i.n(d),p=i(216),u=i.n(p),m=i(589),f=i.n(m),y=i(426),v={};v.styleTagTransform=f(),v.setAttributes=c(),v.insert=h().bind(null,"head"),v.domAPI=l(),v.insertStyleElement=u(),r()(y.Z,v),y.Z&&y.Z.locals&&y.Z.locals;const g=document.getElementById("myGrid"),S=document.getElementsByClassName("myTile"),b=document.getElementById("aiGrid"),x=document.getElementsByClassName("aiTile");b.style.visibility="hidden";const L=document.getElementById("preview"),w=document.getElementById("shipPreview"),E=new s(!0,!0),B=new s(!1,!1);let C=!0;const k=document.getElementById("direction");let z="vertical";k.addEventListener("click",(()=>{"vertical"==z?(z="horizontal",L.style.flexDirection="row"):"horizontal"==z&&(z="vertical",L.style.flexDirection="column")}));const H=()=>{for(;B.myShips.length<5;)if(0==B.myShips.length)B.aiPlace("carrier",5);else if(1==B.myShips.length)B.aiPlace("battleship",4);else if(2==B.myShips.length)B.aiPlace("destroyer",4);else if(3==B.myShips.length)B.aiPlace("submarine",4);else{if(4!=B.myShips.length)break;B.aiPlace("cruiser",2)}},T=()=>{if(0==E.myShips.length){let e=document.createElement("div");e.classList.add("previewTile"),L.appendChild(e);for(let e=0;e<4;e++){let e=document.createElement("div");e.classList.add("previewDisplay"),L.appendChild(e)}}else if(1==E.myShips.length){let e=document.createElement("div");e.classList.add("previewTile"),L.appendChild(e);for(let e=0;e<3;e++){let e=document.createElement("div");e.classList.add("previewDisplay"),L.appendChild(e)}}else if(2==E.myShips.length){let e=document.createElement("div");e.classList.add("previewTile"),L.appendChild(e);for(let e=0;e<2;e++){let e=document.createElement("div");e.classList.add("previewDisplay"),L.appendChild(e)}}else if(3==E.myShips.length){let e=document.createElement("div");e.classList.add("previewTile"),L.appendChild(e);for(let e=0;e<2;e++){let e=document.createElement("div");e.classList.add("previewDisplay"),L.appendChild(e)}}else if(4==E.myShips.length){let e=document.createElement("div");e.classList.add("previewTile"),L.appendChild(e);for(let e=0;e<1;e++){let e=document.createElement("div");e.classList.add("previewDisplay"),L.appendChild(e)}}else for(;L.firstChild;)L.removeChild(L.firstChild)},M=(e,t,i)=>{let s=0;for(let n=0;n<e;n++){let r=document.createElement("div");r.id=n,t.appendChild(r);for(let t=0;t<e;t++){let e=document.createElement("div");e.id=s<10?`0${s}`:s,s++,1==i?e.classList.add("myTile"):0==i&&e.classList.add("aiTile"),e.addEventListener("mouseenter",(()=>{e.classList.add("hover")})),e.addEventListener("mouseleave",(()=>{e.classList.remove("hover")})),r.appendChild(e)}}},I=()=>{for(let e=0;e<S.length;e++)S[e].addEventListener("click",(()=>{const t=String(S[e].id)[0],i=Number(t),s=String(S[e].id).slice(-1),n=Number(s);if(E.myShips.length<5){if(0==E.myShips.length){if(E.place("carrier",5,i,n,z),"vertical"==z&&n<6){S[e].classList.add("placed");for(let e=0;e<5;e++)document.getElementById(`${i}${n+e}`).classList.add("placed")}else if("horizontal"==z&&i<6){S[e].classList.add("placed");for(let e=0;e<5;e++)document.getElementById(`${i+e}${n}`).classList.add("placed")}}else if(1==E.myShips.length){if(E.place("battleship",4,i,n,z),"vertical"==z&&n<7){S[e].classList.add("placed");for(let e=0;e<4;e++)document.getElementById(`${i}${n+e}`).classList.add("placed")}else if("horizontal"==z&&i<7){S[e].classList.add("placed");for(let e=0;e<4;e++)document.getElementById(`${i+e}${n}`).classList.add("placed")}}else if(2==E.myShips.length){if(E.place("destroyer",3,i,n,z),"vertical"==z&&n<8){S[e].classList.add("placed");for(let e=0;e<3;e++)document.getElementById(`${i}${n+e}`).classList.add("placed")}else if("horizontal"==z&&i<8){S[e].classList.add("placed");for(let e=0;e<3;e++)document.getElementById(`${i+e}${n}`).classList.add("placed")}}else if(3==E.myShips.length){if(E.place("submarine",3,i,n,z),"vertical"==z&&n<8){S[e].classList.add("placed");for(let e=0;e<3;e++)document.getElementById(`${i}${n+e}`).classList.add("placed")}else if("horizontal"==z&&i<8){S[e].classList.add("placed");for(let e=0;e<3;e++)document.getElementById(`${i+e}${n}`).classList.add("placed")}}else if(4==E.myShips.length){if(E.place("cruiser",2,i,n,z),"vertical"==z&&n<9){S[e].classList.add("placed");for(let e=0;e<2;e++)document.getElementById(`${i}${n+e}`).classList.add("placed")}else if("horizontal"==z&&i<9){S[e].classList.add("placed");for(let e=0;e<2;e++)document.getElementById(`${i+e}${n}`).classList.add("placed")}}else alert("You have no ships remaining!");for(;L.firstChild;)L.removeChild(L.firstChild);T()}5==E.myShips.length&&(w.style.visibility="hidden",H(),b.style.visibility="visible",P())}))},$=()=>{if(1!=C&&0==C){let e=B.aiShoot(E);console.log(e);let t=e[0],i=e[1];for(let s=0;s<S.length;s++){let n=String(S[s].id)[0],r=Number(n),a=String(S[s].id).slice(-1),l=Number(a);1==e[2]&&t==r&&i==l?S[s].classList.add("hit"):0==e[2]&&t==r&&i==l&&S[s].classList.add("shot")}D(E),C=!0}},P=()=>{for(let e=0;e<x.length;e++)x[e].addEventListener("click",(()=>{if(0!=C){if(1==C){let t=String(x[e].id)[0],i=Number(t),s=String(x[e].id).slice(-1),n=Number(s);1==E.shoot(i,n,B)?x[e].classList.add("hit"):x[e].classList.add("shot"),C=!1,0==D(B)&&setTimeout($,1e3)}}else alert("It's not your turn!")}))},D=e=>{if(17==e.myBoard.hits.length){for(0==e.isHuman?alert("You win!"):1==e.isHuman&&alert("You lose!");g.firstChild;)b.removeChild(b.firstChild),g.removeChild(g.firstChild);return confirm("Play again?")?(E.turn=!0,E.myBoard=new Gameboard(10),E.myShips=[],E.shots=[],E.myHits=[],E.shotSearch=[],B.turn=!1,B.myBoard=new Gameboard(10),B.myShips=[],B.shots=[],B.myHits=[],B.shotSearch=[],M(10,g,!0),T(),I(),M(10,b,!1),w.style.visibility="visible"):alert("Thank you for playing!"),!0}return!1};M(10,g,!0),T(),I(),M(10,b,!1)})()})();