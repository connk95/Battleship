(()=>{"use strict";var e={426:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(81),s=i.n(n),r=i(645),l=i.n(r)()(s());l.push([e.id,'html,\nbody {\n  height: 100%;\n  width: 100%;\n  margin: 0;\n}\n\n#content {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-evenly;\n  align-items: center;\n  height: 100%;\n  width: 100%;\n  background-color: darkgrey;\n}\n\n.grid {\n  display: flex;\n  padding: 40px;\n}\n\n.myTile,\n.aiTile {\n  display: flex;\n  height: 40px;\n  width: 40px;\n  border: 1px solid black;\n  background-color: lightcyan;\n}\n\n.hover {\n  /* display: flex;\n  height: 40px;\n  width: 40px;\n  border: 1px solid black; */\n  background-color: red;\n}\n\n#preview {\n  /* height: 100%; */\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 40px;\n  width: 100%;\n}\n\n.previewTile {\n  display: flex;\n  height: 40px;\n  width: 40px;\n  border: 1px solid black;\n  background-color: red;\n}\n\n.previewDisplay {\n  display: flex;\n  height: 40px;\n  width: 40px;\n  border: 1px solid black;\n  background-color: lightgrey;\n}\n\n#myDisplay {\n  display: flex;\n  flex-direction: row;\n}\n\n.placed {\n  background-color: lightgrey;\n  border: 1px solid blue;\n}\n\n.shot {\n  background-color: white;\n}\n\n.hit {\n  background-color: red;\n}\n\n#shipPreview {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  text-align: center;\n  width: 220px;\n  padding: 20px;\n}\n\n#direction {\n  width: 80px;\n  height: 30px;\n}\n\n#myGrid,\n#aiGrid {\n  background-color: rgb(100, 100, 100);\n  border-radius: 20px;\n}\n\np {\n  font-family: "Courier New", Courier, monospace;\n  font-size: 24px;\n  font-weight: bold;\n  text-align: center;\n}\n\nh1 {\n  font-family: Impact, Haettenschweiler, "Arial Narrow Bold", sans-serif;\n  font-size: 100px;\n  font-weight: bold;\n  animation: fadeIn 5s;\n}\n\n@keyframes fadeIn {\n  0% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n\n#titleScreen {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 40px;\n}\n\nbutton {\n  width: 100px;\n  height: 40px;\n}\n\n#instructions {\n  text-align: center;\n  font-size: 14px;\n}\n',""]);const a=l},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",n=void 0!==t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),n&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),n&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,n,s,r){"string"==typeof e&&(e=[[null,e,void 0]]);var l={};if(n)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(l[o]=!0)}for(var d=0;d<e.length;d++){var h=[].concat(e[d]);n&&l[h[0]]||(void 0!==r&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=r),i&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=i):h[2]=i),s&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=s):h[4]="".concat(s)),t.push(h))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function i(e){for(var i=-1,n=0;n<t.length;n++)if(t[n].identifier===e){i=n;break}return i}function n(e,n){for(var r={},l=[],a=0;a<e.length;a++){var o=e[a],d=n.base?o[0]+n.base:o[0],h=r[d]||0,c="".concat(d," ").concat(h);r[d]=h+1;var p=i(c),m={css:o[1],media:o[2],sourceMap:o[3],supports:o[4],layer:o[5]};if(-1!==p)t[p].references++,t[p].updater(m);else{var u=s(m,n);n.byIndex=a,t.splice(a,0,{identifier:c,updater:u,references:1})}l.push(c)}return l}function s(e,t){var i=t.domAPI(t);return i.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;i.update(e=t)}else i.remove()}}e.exports=function(e,s){var r=n(e=e||[],s=s||{});return function(e){e=e||[];for(var l=0;l<r.length;l++){var a=i(r[l]);t[a].references--}for(var o=n(e,s),d=0;d<r.length;d++){var h=i(r[d]);0===t[h].references&&(t[h].updater(),t.splice(h,1))}r=o}}},569:e=>{var t={};e.exports=function(e,i){var n=function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(i)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,i)=>{e.exports=function(e){var t=i.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(i){!function(e,t,i){var n="";i.supports&&(n+="@supports (".concat(i.supports,") {")),i.media&&(n+="@media ".concat(i.media," {"));var s=void 0!==i.layer;s&&(n+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),n+=i.css,s&&(n+="}"),i.media&&(n+="}"),i.supports&&(n+="}");var r=i.sourceMap;r&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(n,e,t.options)}(t,e,i)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var r=t[n]={id:n,exports:{}};return e[n](r,r.exports,i),r.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.nc=void 0;var n={};(()=>{i.d(n,{t:()=>M});class e{constructor(e,t){this.name=e,this.size=t,this.location=[],this.hits=[],this.sunk=!1}hit(e){if(this.hits.push(e),this.isSunk(),1==this.sunk)return!0}isSunk(){this.hits.length==this.size&&(this.sunk=!0,M(`${this.name} was sunk!`))}}document.getElementById("preview");class t{constructor(e){this.size=e,this.board=this.createBoard(e),this.shots=[],this.hits=[],this.ships=[]}createBoard(e=this.size){let t=[];for(let i=0;i<e;i++){t[i]=[];for(let n=0;n<e;n++)t[i][n]=n}return t}placeShip(e,t,i,n){let s=[];return"battleship"==e&&("vertical"==n?s.push([t,i],[t,i+1],[t,i+2],[t,i+3]):"horizontal"==n&&s.push([t,i],[t+1,i],[t+2,i],[t+3,i])),"carrier"==e&&("vertical"==n?s.push([t,i],[t,i+1],[t,i+2],[t,i+3],[t,i+4]):"horizontal"==n&&s.push([t,i],[t+1,i],[t+2,i],[t+3,i],[t+4,i])),"cruiser"==e&&("vertical"==n?s.push([t,i],[t,i+1]):"horizontal"==n&&s.push([t,i],[t+1,i])),"destroyer"==e&&("vertical"==n?s.push([t,i],[t,i+1],[t,i+2]):"horizontal"==n&&s.push([t,i],[t+1,i],[t+2,i])),"submarine"==e&&("vertical"==n?s.push([t,i],[t,i+1],[t,i+2]):"horizontal"==n&&s.push([t,i],[t+1,i],[t+2,i])),s}receiveAttack(e,t){let i=[e,t];this.shots.push(i);for(let n=0;n<this.ships.length;n++)for(let s=0;s<this.ships[n].location.length;s++)if(e==this.ships[n].location[s][0]&&t==this.ships[n].location[s][1])return this.hits.push(i),1==this.ships[n].hit(i)?[e,t,!0]:[e,t];return!1}}class s{constructor(e,i){this.isHuman=e,this.turn=i,this.myBoard=new t(10),this.myShips=[],this.shots=[],this.myHits=[],this.shotSearch=[]}place(t,i,n,s,r){if("vertical"==r&&s+i>this.myBoard.size)return void alert("Please select a valid location!");if("horizontal"==r&&n+i>this.myBoard.size)return void alert("Please select a valid location!");for(let e=0;e<this.myShips.length;e++)for(let t=0;t<this.myShips[e].location.length;t++){let i=this.myShips[e].location[t][0],r=this.myShips[e].location[t][1];if(i==n&&r==s)return void alert("There is already a ship here!")}let l=new e(t,i);l.location=this.myBoard.placeShip(t,n,s,r),this.myBoard.ships.push(l),this.myShips.push(l)}shoot(e,t,i){let n=[e,t];for(let i=0;i<this.shots.length;i++)if(e==this.shots[i][0]&&t==this.shots[i][1])return void alert("You cannot target the same spot twice!");this.shots.push(n);const s=i.myBoard.receiveAttack(e,t);if(0!=s)return this.myHits.push(s),!0}aiPlace(t,i){let n=Math.floor(Math.random()*(this.myBoard.size-i)),s=Math.floor(Math.random()*this.myBoard.size),r=Math.floor(Math.random()*this.myBoard.size),l=Math.floor(Math.random()*(this.myBoard.size-i));for(let e=0;e<this.myShips.length;e++)for(let t=0;t<this.myShips[e].location.length;t++){let a=this.myShips[e].location[t][0],o=this.myShips[e].location[t][1];for(let e=0;e<i;e++)if(a==r+e&&o==l+e||a==n+e&&o==s+e)return}let a=new e(t,i),o=Math.round(Math.random());a.location=o>0?this.myBoard.placeShip(t,n,s,"horizontal"):this.myBoard.placeShip(t,r,l,"vertical"),this.myBoard.ships.push(a),this.myShips.push(a)}aiShoot(e){if(0!=this.shotSearch.length){let t=this.shotSearch[0][0],i=this.shotSearch[0][1];for(let n=0;n<this.shots.length;n++)if(t==this.shots[n][0]&&i==this.shots[n][1])return this.shotSearch.shift(),this.aiShoot(e);let n=e.myBoard.receiveAttack(t,i);return this.shots.push([t,i]),1==n?(this.myHits=[],this.shotSearch=[],[t,i,!0]):0!=n?(this.myHits.push(n),this.shotSearch=[],this.aiDestroy(),[t,i,!0]):(this.shotSearch.shift(),[t,i,!1])}{this.myHits=[];let t=Math.floor(Math.random()*e.myBoard.size),i=Math.floor(Math.random()*e.myBoard.size);for(let n=0;n<this.shots.length;n++)if(t==this.shots[n][0]&&i==this.shots[n][1])return this.aiShoot(e);let n=e.myBoard.receiveAttack(t,i);return this.shots.push([t,i]),0!=n?(this.myHits.push(n),this.shotSearch=[],this.aiDestroy(),[t,i,!0]):[t,i,!1]}}aiDestroy(){if(1==this.myHits.length){const e=this.myHits[0][0],t=this.myHits[0][1];t<9&&this.shotSearch.push([e,t+1]),t>0&&this.shotSearch.push([e,t-1]),e>0&&this.shotSearch.push([e-1,t]),e<9&&this.shotSearch.push([e+1,t])}else if(this.myHits.length>1){const e=this.myHits[0][0],t=this.myHits[0][1],i=this.myHits[this.myHits.length-1][0],n=this.myHits[this.myHits.length-1][1];e==i&&t<n?this.shotSearch.push([e,t-1],[i,n+1]):e==i&&t>n?this.shotSearch.push([e,t+1],[i,n-1]):t==n&&e<i?this.shotSearch.push([e-1,t],[i+1,n]):t==n&&e>i&&this.shotSearch.push([e+1,t],[i-1,n])}}}var r=i(379),l=i.n(r),a=i(795),o=i.n(a),d=i(569),h=i.n(d),c=i(565),p=i.n(c),m=i(216),u=i.n(m),f=i(589),y=i.n(f),v=i(426),g={};g.styleTagTransform=y(),g.setAttributes=p(),g.insert=h().bind(null,"head"),g.domAPI=o(),g.insertStyleElement=u(),l()(v.Z,g),v.Z&&v.Z.locals&&v.Z.locals;const S=document.getElementById("content"),x=document.getElementsByClassName("myTile");let C="vertical";const b=new s(!0,!0),E=new s(!1,!1);let w=!0;const L=()=>{for(;S.firstChild;)S.removeChild(S.firstChild);let e=document.createElement("div");e.id="myUI",S.appendChild(e);let t=document.createElement("div");t.id="myDisplay",e.appendChild(t);let i=document.createElement("div");i.id="myGrid",i.classList.add("grid"),t.appendChild(i);let n=document.createElement("div");n.id="shipPreview",t.appendChild(n);let s=document.createElement("p");s.id="instructions",s.innerHTML="Place your ships on an available space. You can change the axis by clicking this button.",n.appendChild(s);let r=document.createElement("button");r.id="direction",r.innerHTML="Axis",r.addEventListener("click",(()=>("vertical"==C?(C="horizontal",l.style.flexDirection="row"):"horizontal"==C&&(C="vertical",l.style.flexDirection="column"),C)));let l=document.createElement("div");l.id="preview",n.appendChild(r),n.appendChild(l)},B=()=>{let e=document.getElementById("shipPreview");for(;e.firstChild;)e.removeChild(e.firstChild);let t=document.createElement("div");t.id="aiUI",S.appendChild(t);let i=document.createElement("div");i.id="aiGrid",i.classList.add("grid"),t.appendChild(i)},k=()=>{for(;E.myShips.length<5;)if(0==E.myShips.length)E.aiPlace("carrier",5);else if(1==E.myShips.length)E.aiPlace("battleship",4);else if(2==E.myShips.length)E.aiPlace("destroyer",4);else if(3==E.myShips.length)E.aiPlace("submarine",4);else{if(4!=E.myShips.length)break;E.aiPlace("cruiser",2)}},T=()=>{let e=document.getElementById("preview");if(0==b.myShips.length){let t=document.createElement("div");t.classList.add("previewTile"),e.appendChild(t);for(let t=0;t<4;t++){let t=document.createElement("div");t.classList.add("previewDisplay"),e.appendChild(t)}}else if(1==b.myShips.length){for(;e.firstChild;)e.removeChild(e.firstChild);let t=document.createElement("div");t.classList.add("previewTile"),e.appendChild(t);for(let t=0;t<3;t++){let t=document.createElement("div");t.classList.add("previewDisplay"),e.appendChild(t)}}else if(2==b.myShips.length){for(;e.firstChild;)e.removeChild(e.firstChild);let t=document.createElement("div");t.classList.add("previewTile"),e.appendChild(t);for(let t=0;t<2;t++){let t=document.createElement("div");t.classList.add("previewDisplay"),e.appendChild(t)}}else if(3==b.myShips.length){for(;e.firstChild;)e.removeChild(e.firstChild);let t=document.createElement("div");t.classList.add("previewTile"),e.appendChild(t);for(let t=0;t<2;t++){let t=document.createElement("div");t.classList.add("previewDisplay"),e.appendChild(t)}}else if(4==b.myShips.length){for(;e.firstChild;)e.removeChild(e.firstChild);let t=document.createElement("div");t.classList.add("previewTile"),e.appendChild(t);for(let t=0;t<1;t++){let t=document.createElement("div");t.classList.add("previewDisplay"),e.appendChild(t)}}else for(;e.firstChild;)e.removeChild(e.firstChild)},H=(e,t,i)=>{let n=0;for(let s=0;s<e;s++){let r=document.createElement("div");r.id=s,t.appendChild(r);for(let t=0;t<e;t++){let e=document.createElement("div");e.id=n<10?`0${n}`:n,n++,1==i?e.classList.add("myTile"):0==i&&e.classList.add("aiTile"),e.addEventListener("mouseenter",(()=>{e.classList.add("hover")})),e.addEventListener("mouseleave",(()=>{e.classList.remove("hover")})),r.appendChild(e)}}},I=()=>{let e=document.getElementById("preview");for(let t=0;t<x.length;t++)x[t].addEventListener("click",(()=>{const i=String(x[t].id)[0],n=Number(i),s=String(x[t].id).slice(-1),r=Number(s);if(b.myShips.length<5){if(0==b.myShips.length){if(b.place("carrier",5,n,r,C),"vertical"==C&&r<6){x[t].classList.add("placed");for(let e=0;e<5;e++)document.getElementById(`${n}${r+e}`).classList.add("placed")}else if("horizontal"==C&&n<6){x[t].classList.add("placed");for(let e=0;e<5;e++)document.getElementById(`${n+e}${r}`).classList.add("placed")}}else if(1==b.myShips.length){if(b.place("battleship",4,n,r,C),"vertical"==C&&r<7){x[t].classList.add("placed");for(let e=0;e<4;e++)document.getElementById(`${n}${r+e}`).classList.add("placed")}else if("horizontal"==C&&n<7){x[t].classList.add("placed");for(let e=0;e<4;e++)document.getElementById(`${n+e}${r}`).classList.add("placed")}}else if(2==b.myShips.length){if(b.place("destroyer",3,n,r,C),"vertical"==C&&r<8){x[t].classList.add("placed");for(let e=0;e<3;e++)document.getElementById(`${n}${r+e}`).classList.add("placed")}else if("horizontal"==C&&n<8){x[t].classList.add("placed");for(let e=0;e<3;e++)document.getElementById(`${n+e}${r}`).classList.add("placed")}}else if(3==b.myShips.length){if(b.place("submarine",3,n,r,C),"vertical"==C&&r<8){x[t].classList.add("placed");for(let e=0;e<3;e++)document.getElementById(`${n}${r+e}`).classList.add("placed")}else if("horizontal"==C&&n<8){x[t].classList.add("placed");for(let e=0;e<3;e++)document.getElementById(`${n+e}${r}`).classList.add("placed")}}else if(4==b.myShips.length){if(b.place("cruiser",2,n,r,C),"vertical"==C&&r<9){x[t].classList.add("placed");for(let e=0;e<2;e++)document.getElementById(`${n}${r+e}`).classList.add("placed")}else if("horizontal"==C&&n<9){x[t].classList.add("placed");for(let e=0;e<2;e++)document.getElementById(`${n+e}${r}`).classList.add("placed")}}else alert("You have no ships remaining!");for(;e.firstChild;)e.removeChild(e.firstChild);T()}5==b.myShips.length&&(B(),H(10,aiGrid,!1),k(),$())}))},z=()=>{if(1!=w&&0==w){let e=E.aiShoot(b),t=e[0],i=e[1];for(let n=0;n<x.length;n++){let s=String(x[n].id)[0],r=Number(s),l=String(x[n].id).slice(-1),a=Number(l);1==e[2]&&t==r&&i==a?(x[n].classList.add("hit"),M("We've taken a hit!")):0==e[2]&&t==r&&i==a&&(x[n].classList.add("shot"),M("The enemy missed!"))}P(b),w=!0}},M=e=>{let t=document.getElementById("shipPreview");t.style.justifyContent="center";let i=document.createElement("p");i.innerHTML=e,t.appendChild(i),setTimeout((function(){i.remove()}),1e3)},$=()=>{const e=document.getElementsByClassName("aiTile");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(()=>{if(0!=w){if(1==w){let i=String(e[t].id)[0],n=Number(i),s=String(e[t].id).slice(-1),r=Number(s);1==b.shoot(n,r,E)?(e[t].classList.add("hit"),M("Enemy hit!")):(e[t].classList.add("shot"),M("Miss!")),w=!1,0==P(E)&&setTimeout(z,1500)}}else alert("It's not your turn!")}))},P=e=>{let i=document.getElementById("shipPreview");if(17!=e.myBoard.hits.length)return!1;{0==e.isHuman?M("You won!"):1==e.isHuman&&M("You lost!");let n=document.createElement("button");n.innerHTML="New Game",i.appendChild(n),n.addEventListener("click",(()=>{w=!0,b.myBoard=new t(10),b.myShips=[],b.shots=[],b.myHits=[],b.shotSearch=[],E.turn=!1,E.myBoard=new t(10),E.myShips=[],E.shots=[],E.myHits=[],E.shotSearch=[],L(),console.log("test"),H(10,myGrid,!0),T(),I()}))}};(()=>{let e=document.createElement("div");e.id="titleScreen",S.appendChild(e);let t=document.createElement("h1");t.innerHTML="BATTLESHIP",e.appendChild(t);let i=document.createElement("button");i.innerHTML="Start Game",e.appendChild(i),i.addEventListener("click",(()=>{L(),H(10,myGrid,!0),T(),I()}))})()})()})();