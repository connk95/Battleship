(()=>{"use strict";var e={426:(e,t,i)=>{i.d(t,{Z:()=>a});var s=i(81),n=i.n(s),r=i(645),l=i.n(r)()(n());l.push([e.id,'#content {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-evenly;\n  height: 100%;\n  width: 100%;\n  padding-top: 40px;\n}\n\n.grid {\n  display: flex;\n  padding: 40px;\n}\n\n.myTile,\n.aiTile {\n  display: flex;\n  height: 40px;\n  width: 40px;\n  border: 1px solid black;\n  background-color: lightcyan;\n}\n\n.hover {\n  /* display: flex;\n  height: 40px;\n  width: 40px;\n  border: 1px solid black; */\n  background-color: red;\n}\n\n#preview {\n  /* height: 100%; */\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 40px;\n  width: 100%;\n}\n\n.previewTile {\n  display: flex;\n  height: 40px;\n  width: 40px;\n  border: 1px solid black;\n  background-color: red;\n}\n\n.previewDisplay {\n  display: flex;\n  height: 40px;\n  width: 40px;\n  border: 1px solid black;\n  background-color: lightgrey;\n}\n\n#myDisplay {\n  display: flex;\n  flex-direction: row;\n}\n\n.placed {\n  background-color: lightgrey;\n  border: 1px solid blue;\n}\n\n.shot {\n  background-color: white;\n}\n\n.hit {\n  background-color: red;\n}\n\n#shipPreview {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: flex-start;\n  width: 220px;\n  padding: 20px;\n}\n\n#direction {\n  width: 80px;\n  height: 30px;\n  margin-bottom: 100px;\n  margin-top: 40px;\n}\n\n#myGrid,\n#aiGrid {\n  background-color: darkgrey;\n  border-radius: 20px;\n}\n\np {\n  font-family: "Courier New", Courier, monospace;\n  font-size: 24px;\n  font-weight: bold;\n}\n',""]);const a=l},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",s=void 0!==t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),s&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),s&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,s,n,r){"string"==typeof e&&(e=[[null,e,void 0]]);var l={};if(s)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(l[o]=!0)}for(var d=0;d<e.length;d++){var h=[].concat(e[d]);s&&l[h[0]]||(void 0!==r&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=r),i&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=i):h[2]=i),n&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=n):h[4]="".concat(n)),t.push(h))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function i(e){for(var i=-1,s=0;s<t.length;s++)if(t[s].identifier===e){i=s;break}return i}function s(e,s){for(var r={},l=[],a=0;a<e.length;a++){var o=e[a],d=s.base?o[0]+s.base:o[0],h=r[d]||0,c="".concat(d," ").concat(h);r[d]=h+1;var p=i(c),m={css:o[1],media:o[2],sourceMap:o[3],supports:o[4],layer:o[5]};if(-1!==p)t[p].references++,t[p].updater(m);else{var u=n(m,s);s.byIndex=a,t.splice(a,0,{identifier:c,updater:u,references:1})}l.push(c)}return l}function n(e,t){var i=t.domAPI(t);return i.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;i.update(e=t)}else i.remove()}}e.exports=function(e,n){var r=s(e=e||[],n=n||{});return function(e){e=e||[];for(var l=0;l<r.length;l++){var a=i(r[l]);t[a].references--}for(var o=s(e,n),d=0;d<r.length;d++){var h=i(r[d]);0===t[h].references&&(t[h].updater(),t.splice(h,1))}r=o}}},569:e=>{var t={};e.exports=function(e,i){var s=function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}(e);if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(i)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,i)=>{e.exports=function(e){var t=i.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(i){!function(e,t,i){var s="";i.supports&&(s+="@supports (".concat(i.supports,") {")),i.media&&(s+="@media ".concat(i.media," {"));var n=void 0!==i.layer;n&&(s+="@layer".concat(i.layer.length>0?" ".concat(i.layer):""," {")),s+=i.css,n&&(s+="}"),i.media&&(s+="}"),i.supports&&(s+="}");var r=i.sourceMap;r&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(s,e,t.options)}(t,e,i)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function i(s){var n=t[s];if(void 0!==n)return n.exports;var r=t[s]={id:s,exports:{}};return e[s](r,r.exports,i),r.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var s in t)i.o(t,s)&&!i.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.nc=void 0,(()=>{class e{constructor(e,t){this.name=e,this.size=t,this.location=[],this.hits=[],this.sunk=!1}hit(e){if(this.hits.push(e),this.isSunk(),1==this.sunk)return!0}isSunk(){this.hits.length==this.size&&(this.sunk=!0,alert(`You sunk my ${this.name}!`))}}document.getElementById("preview");class t{constructor(e){this.size=e,this.board=this.createBoard(e),this.shots=[],this.hits=[],this.ships=[]}createBoard(e=this.size){let t=[];for(let i=0;i<e;i++){t[i]=[];for(let s=0;s<e;s++)t[i][s]=s}return t}placeShip(e,t,i,s){let n=[];return"battleship"==e&&("vertical"==s?n.push([t,i],[t,i+1],[t,i+2],[t,i+3]):"horizontal"==s&&n.push([t,i],[t+1,i],[t+2,i],[t+3,i])),"carrier"==e&&("vertical"==s?n.push([t,i],[t,i+1],[t,i+2],[t,i+3],[t,i+4]):"horizontal"==s&&n.push([t,i],[t+1,i],[t+2,i],[t+3,i],[t+4,i])),"cruiser"==e&&("vertical"==s?n.push([t,i],[t,i+1]):"horizontal"==s&&n.push([t,i],[t+1,i])),"destroyer"==e&&("vertical"==s?n.push([t,i],[t,i+1],[t,i+2]):"horizontal"==s&&n.push([t,i],[t+1,i],[t+2,i])),"submarine"==e&&("vertical"==s?n.push([t,i],[t,i+1],[t,i+2]):"horizontal"==s&&n.push([t,i],[t+1,i],[t+2,i])),n}receiveAttack(e,t){let i=[e,t];this.shots.push(i);for(let s=0;s<this.ships.length;s++)for(let n=0;n<this.ships[s].location.length;n++)if(e==this.ships[s].location[n][0]&&t==this.ships[s].location[n][1])return this.hits.push(i),1==this.ships[s].hit(i)?[e,t,!0]:[e,t];return!1}}class s{constructor(e,i){this.isHuman=e,this.turn=i,this.myBoard=new t(10),this.myShips=[],this.shots=[],this.myHits=[],this.shotSearch=[]}place(t,i,s,n,r){if("vertical"==r&&n+i>this.myBoard.size)return void alert("Please select a valid location!");if("horizontal"==r&&s+i>this.myBoard.size)return void alert("Please select a valid location!");for(let e=0;e<this.myShips.length;e++)for(let t=0;t<this.myShips[e].location.length;t++){let i=this.myShips[e].location[t][0],r=this.myShips[e].location[t][1];if(i==s&&r==n)return void alert("There is already a ship here!")}let l=new e(t,i);l.location=this.myBoard.placeShip(t,s,n,r),this.myBoard.ships.push(l),this.myShips.push(l)}shoot(e,t,i){let s=[e,t];for(let i=0;i<this.shots.length;i++)if(e==this.shots[i][0]&&t==this.shots[i][1])return void alert("You cannot target the same spot twice!");this.shots.push(s);const n=i.myBoard.receiveAttack(e,t);if(0!=n)return this.myHits.push(n),!0}aiPlace(t,i){let s=Math.floor(Math.random()*(this.myBoard.size-i)),n=Math.floor(Math.random()*this.myBoard.size),r=Math.floor(Math.random()*this.myBoard.size),l=Math.floor(Math.random()*(this.myBoard.size-i));for(let e=0;e<this.myShips.length;e++)for(let t=0;t<this.myShips[e].location.length;t++){let a=this.myShips[e].location[t][0],o=this.myShips[e].location[t][1];for(let e=0;e<i;e++)if(a==r+e&&o==l+e||a==s+e&&o==n+e)return}let a=new e(t,i),o=Math.round(Math.random());a.location=o>0?this.myBoard.placeShip(t,s,n,"horizontal"):this.myBoard.placeShip(t,r,l,"vertical"),this.myBoard.ships.push(a),this.myShips.push(a)}aiShoot(e){if(0!=this.shotSearch.length){let t=this.shotSearch[0][0],i=this.shotSearch[0][1];for(let s=0;s<this.shots.length;s++)if(t==this.shots[s][0]&&i==this.shots[s][1])return this.shotSearch.shift(),this.aiShoot(e);let s=e.myBoard.receiveAttack(t,i);return this.shots.push([t,i]),1==s?(this.myHits=[],this.shotSearch=[],[t,i,!0]):0!=s?(this.myHits.push(s),this.shotSearch=[],this.aiDestroy(),[t,i,!0]):(this.shotSearch.shift(),[t,i,!1])}{this.myHits=[];let t=Math.floor(Math.random()*e.myBoard.size),i=Math.floor(Math.random()*e.myBoard.size);for(let s=0;s<this.shots.length;s++)if(t==this.shots[s][0]&&i==this.shots[s][1])return this.aiShoot(e);let s=e.myBoard.receiveAttack(t,i);return this.shots.push([t,i]),0!=s?(this.myHits.push(s),this.shotSearch=[],this.aiDestroy(),[t,i,!0]):[t,i,!1]}}aiDestroy(){if(1==this.myHits.length){const e=this.myHits[0][0],t=this.myHits[0][1];t<9&&this.shotSearch.push([e,t+1]),t>0&&this.shotSearch.push([e,t-1]),e>0&&this.shotSearch.push([e-1,t]),e<9&&this.shotSearch.push([e+1,t])}else if(this.myHits.length>1){const e=this.myHits[0][0],t=this.myHits[0][1],i=this.myHits[this.myHits.length-1][0],s=this.myHits[this.myHits.length-1][1];e==i&&t<s?this.shotSearch.push([e,t-1],[i,s+1]):e==i&&t>s?this.shotSearch.push([e,t+1],[i,s-1]):t==s&&e<i?this.shotSearch.push([e-1,t],[i+1,s]):t==s&&e>i&&this.shotSearch.push([e+1,t],[i-1,s])}}}var n=i(379),r=i.n(n),l=i(795),a=i.n(l),o=i(569),d=i.n(o),h=i(565),c=i.n(h),p=i(216),m=i.n(p),u=i(589),f=i.n(u),y=i(426),v={};v.styleTagTransform=f(),v.setAttributes=c(),v.insert=d().bind(null,"head"),v.domAPI=a(),v.insertStyleElement=m(),r()(y.Z,v),y.Z&&y.Z.locals&&y.Z.locals;const g=document.getElementById("content"),S=document.getElementsByClassName("myTile");(()=>{for(;g.firstChild;)g.removeChild(g.firstChild);let e=document.createElement("div");e.id="myUI",g.appendChild(e);let t=document.createElement("div");t.id="myDisplay",e.appendChild(t);let i=document.createElement("div");i.id="myGrid",i.classList.add("grid"),t.appendChild(i);let s=document.createElement("div");s.id="shipPreview",t.appendChild(s);let n=document.createElement("button");n.id="direction",n.innerHTML="Axis",n.addEventListener("click",(()=>{"vertical"==n?(n="horizontal",r.style.flexDirection="row"):"horizontal"==n&&(n="vertical",r.style.flexDirection="column")}));let r=document.createElement("div");r.id="preview",s.appendChild(n),s.appendChild(r)})();const C=()=>{let e=document.getElementById("shipPreview");for(;e.firstChild;)e.removeChild(e.firstChild);let t=document.createElement("div");t.id="aiUI",g.appendChild(t);let i=document.createElement("div");i.id="aiGrid",i.classList.add("grid"),t.appendChild(i)},x=new s(!0,!0),b=new s(!1,!1);let E=!0;const w=document.getElementById("direction"),L=document.getElementById("preview");let B="vertical";w.addEventListener("click",(()=>{"vertical"==B?(B="horizontal",L.style.flexDirection="row"):"horizontal"==B&&(B="vertical",L.style.flexDirection="column")}));const k=()=>{for(;b.myShips.length<5;)if(0==b.myShips.length)b.aiPlace("carrier",5);else if(1==b.myShips.length)b.aiPlace("battleship",4);else if(2==b.myShips.length)b.aiPlace("destroyer",4);else if(3==b.myShips.length)b.aiPlace("submarine",4);else{if(4!=b.myShips.length)break;b.aiPlace("cruiser",2)}},z=()=>{let e=document.getElementById("preview");if(0==x.myShips.length){let t=document.createElement("div");t.classList.add("previewTile"),e.appendChild(t);for(let t=0;t<4;t++){let t=document.createElement("div");t.classList.add("previewDisplay"),e.appendChild(t)}}else if(1==x.myShips.length){for(;e.firstChild;)e.removeChild(e.firstChild);let t=document.createElement("div");t.classList.add("previewTile"),e.appendChild(t);for(let t=0;t<3;t++){let t=document.createElement("div");t.classList.add("previewDisplay"),e.appendChild(t)}}else if(2==x.myShips.length){for(;e.firstChild;)e.removeChild(e.firstChild);let t=document.createElement("div");t.classList.add("previewTile"),e.appendChild(t);for(let t=0;t<2;t++){let t=document.createElement("div");t.classList.add("previewDisplay"),e.appendChild(t)}}else if(3==x.myShips.length){for(;e.firstChild;)e.removeChild(e.firstChild);let t=document.createElement("div");t.classList.add("previewTile"),e.appendChild(t);for(let t=0;t<2;t++){let t=document.createElement("div");t.classList.add("previewDisplay"),e.appendChild(t)}}else if(4==x.myShips.length){for(;e.firstChild;)e.removeChild(e.firstChild);let t=document.createElement("div");t.classList.add("previewTile"),e.appendChild(t);for(let t=0;t<1;t++){let t=document.createElement("div");t.classList.add("previewDisplay"),e.appendChild(t)}}else for(;e.firstChild;)e.removeChild(e.firstChild)},I=(e,t,i)=>{let s=0;for(let n=0;n<e;n++){let r=document.createElement("div");r.id=n,t.appendChild(r);for(let t=0;t<e;t++){let e=document.createElement("div");e.id=s<10?`0${s}`:s,s++,1==i?e.classList.add("myTile"):0==i&&e.classList.add("aiTile"),e.addEventListener("mouseenter",(()=>{e.classList.add("hover")})),e.addEventListener("mouseleave",(()=>{e.classList.remove("hover")})),r.appendChild(e)}}},T=()=>{for(let e=0;e<S.length;e++)S[e].addEventListener("click",(()=>{const t=String(S[e].id)[0],i=Number(t),s=String(S[e].id).slice(-1),n=Number(s);if(x.myShips.length<5){if(0==x.myShips.length){if(x.place("carrier",5,i,n,B),"vertical"==B&&n<6){S[e].classList.add("placed");for(let e=0;e<5;e++)document.getElementById(`${i}${n+e}`).classList.add("placed")}else if("horizontal"==B&&i<6){S[e].classList.add("placed");for(let e=0;e<5;e++)document.getElementById(`${i+e}${n}`).classList.add("placed")}}else if(1==x.myShips.length){if(x.place("battleship",4,i,n,B),"vertical"==B&&n<7){S[e].classList.add("placed");for(let e=0;e<4;e++)document.getElementById(`${i}${n+e}`).classList.add("placed")}else if("horizontal"==B&&i<7){S[e].classList.add("placed");for(let e=0;e<4;e++)document.getElementById(`${i+e}${n}`).classList.add("placed")}}else if(2==x.myShips.length){if(x.place("destroyer",3,i,n,B),"vertical"==B&&n<8){S[e].classList.add("placed");for(let e=0;e<3;e++)document.getElementById(`${i}${n+e}`).classList.add("placed")}else if("horizontal"==B&&i<8){S[e].classList.add("placed");for(let e=0;e<3;e++)document.getElementById(`${i+e}${n}`).classList.add("placed")}}else if(3==x.myShips.length){if(x.place("submarine",3,i,n,B),"vertical"==B&&n<8){S[e].classList.add("placed");for(let e=0;e<3;e++)document.getElementById(`${i}${n+e}`).classList.add("placed")}else if("horizontal"==B&&i<8){S[e].classList.add("placed");for(let e=0;e<3;e++)document.getElementById(`${i+e}${n}`).classList.add("placed")}}else if(4==x.myShips.length){if(x.place("cruiser",2,i,n,B),"vertical"==B&&n<9){S[e].classList.add("placed");for(let e=0;e<2;e++)document.getElementById(`${i}${n+e}`).classList.add("placed")}else if("horizontal"==B&&i<9){S[e].classList.add("placed");for(let e=0;e<2;e++)document.getElementById(`${i+e}${n}`).classList.add("placed")}}else alert("You have no ships remaining!");for(;L.firstChild;)L.removeChild(L.firstChild);z()}5==x.myShips.length&&(C(),I(10,aiGrid,!1),k(),$())}))},H=()=>{if(1!=E&&0==E){let e=b.aiShoot(x),t=e[0],i=e[1];for(let s=0;s<S.length;s++){let n=String(S[s].id)[0],r=Number(n),l=String(S[s].id).slice(-1),a=Number(l);1==e[2]&&t==r&&i==a?(S[s].classList.add("hit"),M("We've taken a hit!")):0==e[2]&&t==r&&i==a&&(S[s].classList.add("shot"),M("The enemy has missed!"))}P(x),E=!0}},M=e=>{let t=document.getElementById("shipPreview");t.style.justifyContent="center";let i=document.createElement("p");i.innerHTML=e,t.appendChild(i),setTimeout((function(){i.remove()}),1e3)},$=()=>{const e=document.getElementsByClassName("aiTile");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(()=>{if(0!=E){if(1==E){let i=String(e[t].id)[0],s=Number(i),n=String(e[t].id).slice(-1),r=Number(n);1==x.shoot(s,r,b)?(e[t].classList.add("hit"),M("Enemy hit!")):(e[t].classList.add("shot"),M("Miss!")),E=!1,0==P(b)&&setTimeout(H,1500)}}else alert("It's not your turn!")}))},P=e=>{let t=document.getElementById("aiGrid"),i=document.getElementById("myGrid");if(17==e.myBoard.hits.length){for(0==e.isHuman?alert("You win!"):1==e.isHuman&&alert("You lose!");i.firstChild;)t.removeChild(t.firstChild),i.removeChild(i.firstChild);return confirm("Play again?")?(x.turn=!0,x.myBoard=new Gameboard(10),x.myShips=[],x.shots=[],x.myHits=[],x.shotSearch=[],b.turn=!1,b.myBoard=new Gameboard(10),b.myShips=[],b.shots=[],b.myHits=[],b.shotSearch=[],I(10,i,!0),z(),T(),I(10,t,!1),shipPreview.style.visibility="visible"):alert("Thank you for playing!"),!0}return!1};I(10,myGrid,!0),z(),T()})()})();